[2024-06-02 22:46:42,941: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-02 22:46:42,955: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-02 22:46:42,956: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-02 22:46:42,957: ERROR: stage_01_data_ingestion: yaml file is empty]
Traceback (most recent call last):
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\utils\common.py", line 32, in read_yaml
    return ConfigBox(content)
           ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 259, in __init__
    raise BoxValueError("First argument must be mapping or iterable")
box.exceptions.BoxValueError: First argument must be mapping or iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 23, in <module>
    obj.main()
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 12, in main
    config = ConfigurationManager()
             ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\config\configuration.py", line 14, in __init__
    self.params = read_yaml(params_filepath)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\ensure\main.py", line 849, in __call__
    return_val = self.f(*args, **kwargs)
                 ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\utils\common.py", line 34, in read_yaml
    raise ValueError("yaml file is empty")
ValueError: yaml file is empty
[2024-06-02 22:47:26,155: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-02 22:47:26,157: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-02 22:47:26,160: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-02 22:47:26,164: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-02 22:47:26,165: ERROR: stage_01_data_ingestion: "'ConfigBox' object has no attribute 'data_ingestion_config'"]
Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 503, in __getitem__
    return super().__getitem__(item)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'data_ingestion_config'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 536, in __getattr__
    value = self.__getitem__(item, _ignore_default=True)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 524, in __getitem__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'data_ingestion_config'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 538, in __getattr__
    value = object.__getattribute__(self, item)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConfigBox' object has no attribute 'data_ingestion_config'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\config_box.py", line 28, in __getattr__
    return super().__getattr__(item)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 552, in __getattr__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'data_ingestion_config'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 503, in __getitem__
    return super().__getitem__(item)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'data_ingestion_config'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 536, in __getattr__
    value = self.__getitem__(item, _ignore_default=True)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 524, in __getitem__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'data_ingestion_config'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 538, in __getattr__
    value = object.__getattribute__(self, item)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConfigBox' object has no attribute 'data_ingestion_config'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 23, in <module>
    obj.main()
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 14, in main
    data_ingestion_config = config.get_data_ingestion_config()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\config\configuration.py", line 18, in get_data_ingestion_config
    config = self.config.data_ingestion_config
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\config_box.py", line 30, in __getattr__
    return super().__getattr__(item.lower())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 552, in __getattr__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'data_ingestion_config'"
[2024-06-02 22:48:31,453: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-02 22:48:31,473: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-02 22:48:31,475: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-02 22:48:31,479: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-02 22:48:31,482: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-02 22:48:31,484: ERROR: stage_01_data_ingestion: "'ConfigBox' object has no attribute 'source_uri'"]
Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 503, in __getitem__
    return super().__getitem__(item)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 536, in __getattr__
    value = self.__getitem__(item, _ignore_default=True)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 524, in __getitem__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 538, in __getattr__
    value = object.__getattribute__(self, item)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConfigBox' object has no attribute 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\config_box.py", line 28, in __getattr__
    return super().__getattr__(item)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 552, in __getattr__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 503, in __getitem__
    return super().__getitem__(item)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 536, in __getattr__
    value = self.__getitem__(item, _ignore_default=True)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 524, in __getitem__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 538, in __getattr__
    value = object.__getattribute__(self, item)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'ConfigBox' object has no attribute 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 23, in <module>
    obj.main()
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 14, in main
    data_ingestion_config = config.get_data_ingestion_config()
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\config\configuration.py", line 24, in get_data_ingestion_config
    source_uri=config.source_uri,
               ^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\config_box.py", line 30, in __getattr__
    return super().__getattr__(item.lower())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\box\box.py", line 552, in __getattr__
    raise BoxKeyError(str(err)) from _exception_cause(err)
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'source_uri'"
[2024-06-02 22:49:14,858: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-02 22:49:14,872: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-02 22:49:14,875: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-02 22:49:14,877: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-02 22:49:14,878: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-02 22:49:14,878: INFO: data_ingestion: File Doesn't Exist!>>> let's Download]
[2024-06-02 22:49:14,891: ERROR: stage_01_data_ingestion: No connection adapters were found for 'src/stock_agent/components/stock_names.txthttps://raw.githubusercontent.com/mrdbourke/simple-local-rag/main/human-nutrition-text.pdf']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 23, in <module>
    obj.main()
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 16, in main
    data_ingestion.download_data()
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 14, in download_data
    response = requests.get(self.config.source_uri)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\sessions.py", line 697, in send
    adapter = self.get_adapter(url=request.url)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\sessions.py", line 794, in get_adapter
    raise InvalidSchema(f"No connection adapters were found for {url!r}")
requests.exceptions.InvalidSchema: No connection adapters were found for 'src/stock_agent/components/stock_names.txthttps://raw.githubusercontent.com/mrdbourke/simple-local-rag/main/human-nutrition-text.pdf'
[2024-06-02 22:50:12,212: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-02 22:50:12,231: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-02 22:50:12,232: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-02 22:50:12,233: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-02 22:50:12,234: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-02 22:50:12,235: INFO: data_ingestion: File Doesn't Exist!>>> let's Download]
[2024-06-02 22:51:10,205: INFO: data_ingestion: >>>>>> Downloaded to artifacts/data_ingestion/human-nutrition-text.]
[2024-06-02 22:51:10,215: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-02 22:54:31,526: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-02 22:54:31,543: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-02 22:54:31,546: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-02 22:54:31,548: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-02 22:54:31,550: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-02 22:54:31,551: INFO: data_ingestion: File Already Exist!]
[2024-06-02 22:54:31,553: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 00:25:58,189: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 00:25:58,200: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 00:25:58,207: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 00:25:58,210: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 00:25:58,211: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 00:25:58,212: INFO: data_ingestion: File Already Exist!]
[2024-06-03 00:26:05,783: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 00:28:20,775: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 00:28:20,778: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 00:28:20,779: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 00:28:20,780: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 00:28:20,781: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 00:28:20,782: INFO: data_ingestion: File Already Exist!]
[2024-06-03 00:28:28,206: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 00:28:41,349: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 00:28:41,351: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 00:28:41,352: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 00:28:41,353: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 00:28:41,354: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 00:28:41,355: INFO: data_ingestion: File Already Exist!]
[2024-06-03 00:28:48,527: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 00:29:08,547: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 00:29:08,552: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 00:29:08,554: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 00:29:08,556: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 00:29:08,558: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 00:29:08,558: INFO: data_ingestion: File Already Exist!]
[2024-06-03 00:29:18,295: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 00:44:44,909: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 00:44:44,911: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 00:44:44,912: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 00:44:44,913: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 00:44:44,915: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 00:44:44,915: INFO: data_ingestion: File Already Exist!]
[2024-06-03 00:44:52,867: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 09:13:08,114: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 09:13:08,127: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 09:13:08,141: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 09:13:08,145: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 09:13:08,146: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 09:13:08,147: INFO: data_ingestion: File Already Exist!]
[2024-06-03 09:13:15,441: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 12:06:49,840: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 12:06:49,852: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 12:06:49,854: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 12:06:49,858: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 12:06:49,858: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 12:06:49,859: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 12:10:18,133: INFO: data_ingestion: File Already Exist!]
[2024-06-03 12:10:25,598: ERROR: stage_01_data_ingestion: invalid group reference 1 at position 3]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 29, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 20, in main
    pages_and_chunks = data_ingestion.split_chunks(pages_and_text)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 84, in split_chunks
    joined_chunk = re.sub(r'\.[A-Z]',r'. \1', joined_chunk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\re\__init__.py", line 185, in sub
    return _compile(pattern, flags).sub(repl, string, count)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\re\__init__.py", line 317, in _subx
    template = _compile_repl(template, pattern)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\re\__init__.py", line 308, in _compile_repl
    return _parser.parse_template(repl, pattern)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\re\_parser.py", line 1072, in parse_template
    addgroup(int(this[1:]), len(this) - 1)
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\re\_parser.py", line 1008, in addgroup
    raise s.error("invalid group reference %d" % index, pos)
re.error: invalid group reference 1 at position 3
[2024-06-03 12:18:23,907: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 12:18:23,910: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 12:18:23,911: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 12:18:23,912: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 12:18:23,914: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 12:18:23,914: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 12:18:28,676: INFO: data_ingestion: File Already Exist!]
[2024-06-03 12:18:36,255: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 13:07:41,238: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:07:41,251: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:07:41,253: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:07:41,255: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:07:41,256: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:07:41,257: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:07:50,210: ERROR: stage_01_data_ingestion: 'PINECONE_API_KEY']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 29, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 16, in main
    data_ingestion = DataIngestion(data_ingestion_config)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 24, in __init__
    self.pc = Pinecone(api_key=os.environ["PINECONE_API_KEY"])
                               ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "<frozen os>", line 679, in __getitem__
KeyError: 'PINECONE_API_KEY'
[2024-06-03 13:09:16,823: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:09:16,825: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:09:16,827: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:09:16,828: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:09:16,833: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:09:16,834: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:09:21,905: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:09:22,984: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:09:22,984: ERROR: stage_01_data_ingestion: 'function' object has no attribute 'DataFrame']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 30, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 22, in main
    pages_and_chunks_over_min_token_len = data_ingestion.embed_chunks(pages_and_chunks)
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 106, in embed_chunks
    df = pd.DataFrame(pages_and_chunks)
         ^^^^^^^^^^^^
AttributeError: 'function' object has no attribute 'DataFrame'
[2024-06-03 13:11:19,647: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:11:19,650: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:11:19,651: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:11:19,652: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:11:19,654: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:11:19,654: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:11:25,409: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:11:26,606: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:11:26,714: ERROR: stage_01_data_ingestion: Invalid comparison between dtype=int64 and str]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 30, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 22, in main
    pages_and_chunks_over_min_token_len = data_ingestion.embed_chunks(pages_and_chunks)
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 107, in embed_chunks
    pages_and_chunks_over_min_token_len = df[df["chunk_token_count"] > self.config.min_token_length].to_dict(orient="records")
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\ops\common.py", line 81, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\arraylike.py", line 56, in __gt__
    return self._cmp_method(other, operator.gt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\series.py", line 6096, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\ops\array_ops.py", line 290, in comparison_op
    return invalid_comparison(lvalues, rvalues, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\ops\invalid.py", line 36, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=int64 and str
[2024-06-03 13:15:18,665: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:15:18,667: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:15:18,669: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:15:18,670: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:15:18,673: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:15:18,674: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:15:23,100: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:15:24,425: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:15:24,432: ERROR: stage_01_data_ingestion: Invalid comparison between dtype=int64 and str]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 30, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 22, in main
    pages_and_chunks_over_min_token_len = data_ingestion.embed_chunks(pages_and_chunks)
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 107, in embed_chunks
    pages_and_chunks_over_min_token_len = df[df["chunk_token_count"] > self.config.min_token_length].to_dict(orient="records")
                                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\ops\common.py", line 81, in new_method
    return method(self, other)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\arraylike.py", line 56, in __gt__
    return self._cmp_method(other, operator.gt)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\series.py", line 6096, in _cmp_method
    res_values = ops.comparison_op(lvalues, rvalues, op)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\ops\array_ops.py", line 290, in comparison_op
    return invalid_comparison(lvalues, rvalues, op)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\ops\invalid.py", line 36, in invalid_comparison
    raise TypeError(f"Invalid comparison between dtype={left.dtype} and {typ}")
TypeError: Invalid comparison between dtype=int64 and str
[2024-06-03 13:18:35,960: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:18:35,964: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:18:35,966: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:18:35,968: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:18:35,971: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:18:35,972: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:18:40,682: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:18:41,449: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:18:41,452: ERROR: stage_01_data_ingestion: invalid literal for int() with base 10: '30,']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 30, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 22, in main
    pages_and_chunks_over_min_token_len = data_ingestion.embed_chunks(pages_and_chunks)
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 107, in embed_chunks
    pages_and_chunks_over_min_token_len = df[df["chunk_token_count"] > int(self.config.min_token_length)].to_dict(orient="records")
                                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '30,'
[2024-06-03 13:20:22,318: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:20:22,333: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:20:22,335: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:20:22,337: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:20:22,339: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:20:22,340: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:20:27,197: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:20:28,090: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:20:28,105: ERROR: stage_01_data_ingestion: 'list' object has no attribute 'to_dict']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 30, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 22, in main
    pages_and_chunks_over_min_token_len = data_ingestion.embed_chunks(pages_and_chunks)
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 118, in embed_chunks
    return pages_and_chunks_over_min_token_len.to_dict(orient="records")
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'list' object has no attribute 'to_dict'
[2024-06-03 13:24:39,191: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:24:39,193: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:24:39,194: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:24:39,194: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:24:39,196: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:24:39,196: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:24:43,723: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:24:44,634: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:24:44,640: ERROR: stage_01_data_ingestion: Sequential.forward() got an unexpected keyword argument 'batch_size']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 30, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 22, in main
    pages_and_chunks_over_min_token_len = data_ingestion.embed_chunks(pages_and_chunks)
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 109, in embed_chunks
    text_chunks_embeddings = self.embedding_model(
                             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\torch\nn\modules\module.py", line 1532, in _wrapped_call_impl
    return self._call_impl(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\torch\nn\modules\module.py", line 1541, in _call_impl
    return forward_call(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: Sequential.forward() got an unexpected keyword argument 'batch_size'
[2024-06-03 13:25:12,605: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 13:25:12,610: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 13:25:12,612: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 13:25:12,614: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 13:25:12,619: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 13:25:12,619: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 13:25:18,267: INFO: data_ingestion: File Already Exist!]
[2024-06-03 13:25:19,048: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 13:26:08,769: INFO: data_ingestion: >>>>>>>> Embedding Completed <<<<<<<<<]
[2024-06-03 13:26:08,926: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 14:56:30,171: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 14:56:30,176: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 14:56:30,178: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 14:56:30,179: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 14:56:30,182: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 14:56:30,183: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 14:56:41,623: INFO: data_ingestion: File Already Exist!]
[2024-06-03 14:56:44,227: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 14:57:51,557: INFO: data_ingestion: >>>>>>>> Embedding Completed <<<<<<<<<]
[2024-06-03 14:57:51,724: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 15:01:31,880: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 15:01:31,888: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 15:01:31,894: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 15:01:31,901: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 15:01:31,932: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 15:01:31,947: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 15:01:37,791: INFO: data_ingestion: File Already Exist!]
[2024-06-03 15:01:39,074: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 15:02:31,020: INFO: data_ingestion: >>>>>>>> Embedding Completed <<<<<<<<<]
[2024-06-03 15:02:42,273: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 15:09:09,377: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 15:09:09,379: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 15:09:09,381: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 15:09:09,383: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 15:09:09,387: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 15:09:09,388: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 15:09:15,975: INFO: data_ingestion: File Already Exist!]
[2024-06-03 15:09:17,207: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 15:10:20,220: INFO: data_ingestion: >>>>>>>> Embedding Completed <<<<<<<<<]
[2024-06-03 15:10:21,059: WARNING: data_ingestion: Index Already Exist! Deleting Index:rag-index]
[2024-06-03 15:10:39,177: INFO: data_ingestion: Data is Going To Load to Pinecone!]
[2024-06-03 15:10:43,997: INFO: data_ingestion: Vectors Loaded to Pinecone]
[2024-06-03 15:10:44,063: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 15:12:03,012: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 15:12:03,022: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 15:12:03,024: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 15:12:03,025: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 15:12:03,028: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 15:12:03,029: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 15:12:07,990: INFO: data_ingestion: File Already Exist!]
[2024-06-03 15:12:15,501: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 15:41:49,374: INFO: data_ingestion: >>>>>>>> Embedding Completed <<<<<<<<<]
[2024-06-03 15:41:50,526: WARNING: data_ingestion: Index Already Exist! Deleting Index:rag-index]
[2024-06-03 15:42:02,795: INFO: data_ingestion: Data is Going To Load to Pinecone!]
[2024-06-03 15:42:51,610: ERROR: stage_01_data_ingestion: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Mon, 03 Jun 2024 10:12:51 GMT', 'Content-Type': 'application/json', 'Content-Length': '118', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '39446', 'x-pinecone-request-id': '6976461903471582505', 'x-envoy-upstream-service-time': '0', 'server': 'envoy'})
HTTP response body: {"code":11,"message":"Error, message length too large: found 6452785 bytes, the limit is: 4194304 bytes","details":[]}
]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 31, in <module>
    pages_and_text = obj.main()
                     ^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_01_data_ingestion.py", line 23, in main
    data_ingestion.to_vector_database(pages_and_chunks_over_min_token_len)
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\data_ingestion.py", line 137, in to_vector_database
    index.upsert(
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\utils\error_handling.py", line 10, in inner_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\data\index.py", line 168, in upsert
    return self._upsert_batch(vectors, namespace, _check_type, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\data\index.py", line 189, in _upsert_batch
    return self._vector_api.upsert(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 772, in __call__
    return self.callable(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api\data_plane_api.py", line 1084, in __upsert
    return self.call_with_http_info(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 834, in call_with_http_info
    return self.api_client.call_api(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 409, in call_api
    return self.__call_api(resource_path, method,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 203, in __call_api
    raise e
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 196, in __call_api
    response_data = self.request(
                    ^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 455, in request
    return self.rest_client.POST(url,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\rest.py", line 302, in POST
    return self.request("POST", url,
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\rest.py", line 261, in request
    raise PineconeApiException(http_resp=r)
pinecone.core.client.exceptions.PineconeApiException: (400)
Reason: Bad Request
HTTP response headers: HTTPHeaderDict({'Date': 'Mon, 03 Jun 2024 10:12:51 GMT', 'Content-Type': 'application/json', 'Content-Length': '118', 'Connection': 'keep-alive', 'x-pinecone-request-latency-ms': '39446', 'x-pinecone-request-id': '6976461903471582505', 'x-envoy-upstream-service-time': '0', 'server': 'envoy'})
HTTP response body: {"code":11,"message":"Error, message length too large: found 6452785 bytes, the limit is: 4194304 bytes","details":[]}

[2024-06-03 16:40:45,201: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 16:40:52,503: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 16:40:52,512: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 16:40:52,515: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 16:40:52,518: ERROR: stage_02_search_answer: 'NoneType' object has no attribute 'index_name']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 25, in <module>
    query_embeddings = obj.main(query=query)
                       ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 15, in main
    query_answer = SearchAndAnswer(search_config)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 13, in __init__
    self.index = self.pc.Index(self.config.index_name)
                               ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'index_name'
[2024-06-03 16:41:55,965: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 16:42:01,585: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 16:42:01,588: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 16:42:01,590: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 16:42:02,540: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 16:42:13,250: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 16:44:17,487: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 16:44:25,183: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 16:44:25,185: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 16:44:25,187: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 16:44:26,095: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 16:44:36,281: ERROR: stage_02_search_answer: Unable to prepare type ndarray for serialization]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 25, in <module>
    query_embeddings = obj.main(query=query)
                       ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 16, in main
    query_embeddings = query_answer.retrive_similar_enbeddings(query)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 21, in retrive_similar_enbeddings
    query_results = self.index.query(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\utils\error_handling.py", line 10, in inner_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\data\index.py", line 399, in query
    response = self._vector_api.query(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 772, in __call__
    return self.callable(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api\data_plane_api.py", line 844, in __query
    return self.call_with_http_info(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 834, in call_with_http_info
    return self.api_client.call_api(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 409, in call_api
    return self.__call_api(resource_path, method,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 181, in __call_api
    body = self.sanitize_for_serialization(body)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 273, in sanitize_for_serialization
    return {
           ^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 274, in <dictcomp>
    key: cls.sanitize_for_serialization(val) for key, val in model_to_dict(obj, serialize=True).items()
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 288, in sanitize_for_serialization
    raise PineconeApiValueError('Unable to prepare type {} for serialization'.format(obj.__class__.__name__))
pinecone.core.client.exceptions.PineconeApiValueError: Unable to prepare type ndarray for serialization
[2024-06-03 16:50:29,186: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 16:50:37,608: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 16:50:37,611: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 16:50:37,612: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 16:50:38,573: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 16:50:44,881: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 16:52:05,842: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 16:52:07,777: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 16:52:07,779: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 16:52:07,780: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 16:52:08,528: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 16:52:15,223: ERROR: stage_02_search_answer: Unable to prepare type ndarray for serialization]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 25, in <module>
    query_embeddings = obj.main(query=query)
                       ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 16, in main
    query_embeddings = query_answer.retrive_similar_enbeddings(query)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 22, in retrive_similar_enbeddings
    query_results = self.index.query(
                    ^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\utils\error_handling.py", line 10, in inner_func
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\data\index.py", line 399, in query
    response = self._vector_api.query(
               ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 772, in __call__
    return self.callable(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api\data_plane_api.py", line 844, in __query
    return self.call_with_http_info(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 834, in call_with_http_info
    return self.api_client.call_api(
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 409, in call_api
    return self.__call_api(resource_path, method,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 181, in __call_api
    body = self.sanitize_for_serialization(body)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 273, in sanitize_for_serialization
    return {
           ^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 274, in <dictcomp>
    key: cls.sanitize_for_serialization(val) for key, val in model_to_dict(obj, serialize=True).items()
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\api_client.py", line 288, in sanitize_for_serialization
    raise PineconeApiValueError('Unable to prepare type {} for serialization'.format(obj.__class__.__name__))
pinecone.core.client.exceptions.PineconeApiValueError: Unable to prepare type ndarray for serialization
[2024-06-03 16:59:49,279: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 16:59:55,984: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 16:59:55,988: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 16:59:55,989: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 16:59:56,893: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 17:00:05,967: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 17:00:32,667: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 17:00:38,715: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 17:00:38,719: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 17:00:38,721: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 17:00:39,522: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 17:01:05,745: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 17:02:09,382: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 17:02:16,861: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 17:02:16,865: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 17:02:16,866: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 17:02:17,890: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 17:02:27,343: ERROR: stage_02_search_answer: QueryResponse has no attribute '0' at ['['received_data']']]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 26, in <module>
    for i in query_embeddings:
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pinecone\core\client\model_utils.py", line 496, in __getitem__
    raise PineconeApiAttributeError(
pinecone.core.client.exceptions.PineconeApiAttributeError: QueryResponse has no attribute '0' at ['['received_data']']
[2024-06-03 17:04:44,961: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 17:04:51,250: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 17:04:51,254: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 17:04:51,255: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 17:04:52,003: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 17:05:05,560: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 17:09:30,093: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 17:09:31,601: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 17:09:31,604: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 17:09:31,607: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 17:09:33,789: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 17:09:42,250: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 21:30:44,398: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 21:30:44,405: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:30:44,407: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:30:44,409: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:30:44,412: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 21:30:44,415: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:30:54,451: INFO: data_ingestion: File Already Exist!]
[2024-06-03 21:31:02,136: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 21:31:02,227: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 21:32:48,154: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 21:32:48,158: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:32:48,159: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:32:48,162: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:32:48,164: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 21:32:48,168: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:32:54,526: INFO: data_ingestion: File Already Exist!]
[2024-06-03 21:33:01,796: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 21:33:01,850: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 21:36:32,762: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 21:36:32,766: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:36:32,767: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:36:32,768: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:36:32,769: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 21:36:32,771: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:36:38,174: INFO: data_ingestion: File Already Exist!]
[2024-06-03 21:36:46,878: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 21:36:46,998: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 21:37:24,514: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-03 21:37:24,517: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:37:24,519: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:37:24,521: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:37:24,522: INFO: common: created directory at: artifacts/data_ingestion]
[2024-06-03 21:37:24,525: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:37:30,442: INFO: data_ingestion: File Already Exist!]
[2024-06-03 21:37:37,604: INFO: data_ingestion: >>>>>>>> Embedding Started <<<<<<<<<]
[2024-06-03 21:37:37,733: INFO: stage_01_data_ingestion: >>>>>>>> Data Ingestion stage Completed <<<<<<<<<<]
[2024-06-03 21:51:01,439: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 21:51:16,656: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:51:16,658: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:51:16,660: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:51:18,158: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:51:29,601: ERROR: stage_02_search_answer: '34_0']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 25, in <module>
    query_results = obj.main(query=query)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 17, in main
    query_results = query_answer.fetch_chunks(query_embeddings)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 34, in fetch_chunks
    item["sentence_chunk"] = self.df.loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1103, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1343, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1293, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\generic.py", line 4095, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\range.py", line 349, in get_loc
    raise KeyError(key)
KeyError: '34_0'
[2024-06-03 21:52:58,708: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 21:53:14,682: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:53:14,684: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:53:14,687: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:53:15,385: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:53:24,729: ERROR: stage_02_search_answer: list indices must be integers or slices, not str]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in <module>
    print("Index:",query_results["id"])
                   ~~~~~~~~~~~~~^^^^^^
TypeError: list indices must be integers or slices, not str
[2024-06-03 21:54:26,043: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 21:54:32,285: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:54:32,286: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:54:32,289: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:54:33,060: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:54:45,478: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-03 21:56:20,416: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 21:57:50,707: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-03 21:57:50,710: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-03 21:57:50,711: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-03 21:57:50,712: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-03 21:57:51,791: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-03 21:58:19,210: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Completed <<<<<<<<<<]
[2024-06-04 13:00:14,987: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 13:00:15,567: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 13:00:15,581: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 13:00:15,586: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 13:00:16,403: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-04 13:00:38,815: ERROR: stage_02_search_answer: 'SearchAndAnswer' object has no attribute 'tokenizer']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 32, in <module>
    output_text = obj.main(query=query)
                  ^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 22, in main
    output_text = self.query_answer.ask(query, query_results)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 158, in ask
    answer = self.ask_cpu(query, context_items)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 132, in ask_cpu
    prompt = self.prompt_formatter(query=query,
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 89, in prompt_formatter
    prompt = self.tokenizer.apply_chat_template(conversation=dialogue_template,
             ^^^^^^^^^^^^^^
AttributeError: 'SearchAndAnswer' object has no attribute 'tokenizer'
[2024-06-04 13:01:41,097: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 13:01:42,589: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 13:01:42,594: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 13:01:42,595: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 13:01:43,304: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-04 13:04:33,780: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 13:04:34,339: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 13:04:34,350: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 13:04:34,353: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 13:04:35,254: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-04 13:07:46,812: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 13:07:47,617: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 13:07:47,617: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 13:07:47,617: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 13:07:49,923: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-04 13:22:01,604: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 13:22:05,154: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 13:22:05,155: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 13:22:05,156: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 13:22:09,045: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-04 15:41:37,064: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 15:41:37,885: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 15:41:37,888: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 15:41:37,890: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 15:41:39,163: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-04 15:41:48,326: ERROR: stage_02_search_answer: 'module' object is not subscriptable]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 31, in <module>
    prompt = prompts["detailed_prompt"]
             ~~~~~~~^^^^^^^^^^^^^^^^^^^
TypeError: 'module' object is not subscriptable
[2024-06-04 15:45:35,172: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-04 15:45:36,016: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-04 15:45:36,018: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-04 15:45:36,021: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-04 15:45:36,784: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 12:30:15,881: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 12:30:15,881: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 12:30:15,881: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 12:30:15,881: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 12:30:15,881: ERROR: stage_02_search_answer: SearchAndAnswer.__init__() missing 1 required positional argument: 'pc_key']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 35, in <module>
    obj = SearchAnswerPipeline()
          ^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 17, in __init__
    self.query_answer = SearchAndAnswer(search_config)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SearchAndAnswer.__init__() missing 1 required positional argument: 'pc_key'
[2024-06-05 12:33:15,698: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 12:33:15,698: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 12:33:15,716: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 12:33:15,717: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 12:33:15,718: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 12:33:22,971: ERROR: stage_02_search_answer: 'SearchAndAnswer' object has no attribute 'index']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 26, in chainlit_prompt
    query_embeddings = self.query_answer.retrive_similar_enbeddings(query, pc_key)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 38, in retrive_similar_enbeddings
    query_results = self.index.query(
                    ^^^^^^^^^^
AttributeError: 'SearchAndAnswer' object has no attribute 'index'
[2024-06-05 12:33:52,545: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 12:33:52,560: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 12:33:52,565: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 12:33:52,566: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 12:33:52,566: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 12:34:00,253: ERROR: stage_02_search_answer: 'str' object has no attribute 'query']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 26, in chainlit_prompt
    query_embeddings = self.query_answer.retrive_similar_enbeddings(query, pc_key)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 38, in retrive_similar_enbeddings
    query_results = index.query(
                    ^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'query'
[2024-06-05 12:34:45,177: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 12:34:45,177: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 12:34:45,177: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 12:34:45,192: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 12:34:45,193: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 12:36:09,432: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 12:36:09,436: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 12:36:09,437: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 12:36:09,439: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 12:36:09,440: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 12:37:18,946: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 12:37:18,947: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 12:37:18,947: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 12:37:18,947: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 12:37:18,955: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 12:37:31,379: ERROR: stage_02_search_answer: 'SentenceTransformer' object has no attribute 'decode']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 49, in fetch_chunks
    item["sentence_chunk"] = self.embedding_model.decode(item["values"])
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\torch\nn\modules\module.py", line 1709, in __getattr__
    raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
AttributeError: 'SentenceTransformer' object has no attribute 'decode'
[2024-06-05 16:01:45,468: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:01:45,474: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:01:45,475: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:01:45,477: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:01:45,478: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:02:02,270: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 51, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:02:11,313: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:02:11,319: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:02:11,321: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:02:11,322: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:02:11,324: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:02:22,529: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 51, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:24:39,437: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:24:39,445: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:24:39,447: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:24:39,450: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:24:39,451: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:24:43,997: ERROR: stage_02_search_answer: 'SearchAnswerPipeline' object has no attribute 'setup_pd']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.setup_pd({"slot-1": "C:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf", "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
    ^^^^^^^^^^^^
AttributeError: 'SearchAnswerPipeline' object has no attribute 'setup_pd'
[2024-06-05 16:25:40,087: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:25:40,102: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:25:40,103: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:25:40,107: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:25:40,108: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:25:44,622: ERROR: stage_02_search_answer: 'SearchAnswerPipeline' object has no attribute 'setup_pd']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.setup_pd({"slot-1": "C:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf", "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
    ^^^^^^^^^^^^
AttributeError: 'SearchAnswerPipeline' object has no attribute 'setup_pd'
[2024-06-05 16:26:07,907: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:26:07,907: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:26:07,924: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:26:07,926: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:26:07,928: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:26:12,253: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: 'C:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.query_answer.setup_pd({"slot-1": "C:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf", "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'C:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv'
[2024-06-05 16:26:58,891: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:26:58,902: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:26:58,904: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:26:58,909: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:26:58,909: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:27:04,068: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: 'c:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.query_answer.setup_pd({"slot-1": "c:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf", "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'c:/Users/shaik/Documents/Programing/ML/RAG/.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv'
[2024-06-05 16:27:52,064: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:27:52,064: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:27:52,072: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:27:52,074: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:27:52,076: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:27:56,469: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: '.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.query_answer.setup_pd({"slot-1": ".files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf", "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '.files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv'
[2024-06-05 16:28:33,233: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:28:33,233: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:28:33,249: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:28:33,249: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:28:33,252: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:28:37,553: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: '.files\\40a621e3-13c3-40a5-92be-f8700a50f3dc\\b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.query_answer.setup_pd({"slot-1": Path(".files/40a621e3-13c3-40a5-92be-f8700a50f3dc/b30a2251-0a3a-446e-9319-91f90dae9bed.pdf"), "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '.files\\40a621e3-13c3-40a5-92be-f8700a50f3dc\\b30a2251-0a3a-446e-9319-91f90dae9bed.pdf.csv'
[2024-06-05 16:33:14,387: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:33:14,403: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:33:14,460: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:33:14,460: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:33:14,460: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:33:21,361: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: 'artifacts/data_ingestion/data.csv.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.query_answer.setup_pd({"slot-1": obj.search_config.data_file, "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'artifacts/data_ingestion/data.csv.csv'
[2024-06-05 16:34:34,197: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:34:34,201: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:34:34,203: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:34:34,204: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:34:34,206: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:34:45,629: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 53, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:41:23,718: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:41:23,718: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:41:23,725: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:41:23,726: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:41:23,727: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:41:34,278: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 54, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:42:29,739: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:42:29,755: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:42:29,755: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:42:29,761: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:42:29,763: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:42:40,687: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 53, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:43:36,350: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:43:36,350: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:43:36,350: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:43:36,350: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:43:36,361: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:43:46,793: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 54, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:46:31,090: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:46:31,090: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:46:31,090: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:46:31,106: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:46:31,109: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:46:40,809: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 55, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:47:58,165: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:47:58,165: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:47:58,165: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:47:58,165: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:47:58,180: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:48:09,158: ERROR: stage_02_search_answer: 'str' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 55, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'loc'
[2024-06-05 16:48:57,138: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:48:57,142: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:48:57,144: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:48:57,146: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:48:57,147: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:49:06,666: ERROR: stage_02_search_answer: '1_1']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what is the book", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 54, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1103, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1343, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1293, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\generic.py", line 4095, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\range.py", line 349, in get_loc
    raise KeyError(key)
KeyError: '1_1'
[2024-06-05 16:50:35,424: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:50:35,428: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:50:35,429: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:50:35,431: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:50:35,433: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:50:41,140: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: 'artifacts/data_ingestion/data.csv.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.query_answer.setup_pd({"slot-1": obj.search_config.data_file, "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'artifacts/data_ingestion/data.csv.csv'
[2024-06-05 16:50:49,346: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:50:49,353: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:50:49,356: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:50:49,358: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:50:49,360: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:50:53,563: ERROR: stage_02_search_answer: [Errno 2] No such file or directory: 'artifacts/data_ingestion/data.csv.csv']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 38, in <module>
    obj.query_answer.setup_pd({"slot-1": obj.search_config.data_file, "slot-2": "", "slot-3": "", "slot-4": "", "slot-5": ""})
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 36, in setup_pd
    self.dfs[slot] = pd.read_csv(f"{path}.csv")
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 912, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 577, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1407, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\parsers\readers.py", line 1661, in _make_engine
    self.handles = get_handle(
                   ^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\io\common.py", line 859, in get_handle
    handle = open(
             ^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'artifacts/data_ingestion/data.csv.csv'
[2024-06-05 16:51:07,609: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:51:07,609: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:51:07,609: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:51:07,609: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:51:07,625: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:51:18,515: ERROR: stage_02_search_answer: '1_1']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what are skills", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 54, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1103, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1343, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1293, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\generic.py", line 4095, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\range.py", line 349, in get_loc
    raise KeyError(key)
KeyError: '1_1'
[2024-06-05 16:51:55,695: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:51:55,699: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:51:55,702: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:51:55,705: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:51:55,707: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:52:05,872: ERROR: stage_02_search_answer: '1_1']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what are skills", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 54, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1103, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1343, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1293, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\generic.py", line 4095, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\range.py", line 349, in get_loc
    raise KeyError(key)
KeyError: '1_1'
[2024-06-05 16:53:58,279: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:53:58,294: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:53:58,297: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:53:58,299: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:53:58,300: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 16:54:08,581: ERROR: stage_02_search_answer: 'NoneType' object has no attribute 'loc']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what are skills", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 27, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 54, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'loc'
[2024-06-05 16:55:14,137: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 16:55:14,153: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 16:55:14,154: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 16:55:14,154: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 16:55:14,158: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 17:10:37,763: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 17:10:37,765: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 17:10:37,765: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 17:10:37,765: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 17:10:37,778: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 17:10:48,004: ERROR: stage_02_search_answer: SearchAndAnswer.ask() takes 4 positional arguments but 5 were given]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what are skills", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 28, in chainlit_prompt
    output_text = self.query_answer.ask(query, query_results, prompt, hf_key)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: SearchAndAnswer.ask() takes 4 positional arguments but 5 were given
[2024-06-05 23:27:06,513: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 23:27:06,520: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 23:27:06,521: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 23:27:06,522: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 23:27:06,523: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 23:27:12,295: ERROR: stage_02_search_answer: SearchAnswerPipeline.chainlit_prompt() missing 1 required positional argument: 'model']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what are skills", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1")
TypeError: SearchAnswerPipeline.chainlit_prompt() missing 1 required positional argument: 'model'
[2024-06-05 23:28:16,676: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 23:28:16,684: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 23:28:16,686: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 23:28:16,689: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 23:28:16,691: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 23:29:41,223: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 23:29:41,228: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 23:29:41,230: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 23:29:41,232: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 23:29:41,233: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 23:30:24,756: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 23:30:24,756: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 23:30:24,756: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 23:30:24,770: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 23:30:24,771: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 23:32:44,806: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 23:32:44,806: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 23:32:44,806: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 23:32:44,806: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 23:32:44,818: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-05 23:32:55,334: ERROR: stage_02_search_answer: Expecting value: line 1 column 1 (char 0)]
Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\AppData\Local\Programs\Python\Python311\Lib\json\decoder.py", line 355, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 39, in <module>
    obj.chainlit_prompt("what are skills", prompt, "650ac970-f431-45fb-8a42-f9c53207a7c2", "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","slot-1", "google/gemma-2b-it")
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 28, in chainlit_prompt
    output_text = self.query_answer.ask(query, query_results, prompt, hf_key, model)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 147, in ask
    answer = self.ask_cpu(query, prompt_set["temperature"], base_prompt, hf_key, model)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 133, in ask_cpu
    print(response.json())
          ^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\requests\models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2024-06-05 23:38:28,067: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-05 23:38:28,067: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-05 23:38:28,083: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-05 23:38:28,086: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-05 23:38:28,090: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 09:55:11,310: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 09:55:11,323: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 09:55:11,334: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 09:55:11,338: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 09:55:11,340: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 10:04:42,229: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 10:04:42,235: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 10:04:42,241: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 10:04:42,244: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 10:04:42,247: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 10:04:59,474: ERROR: stage_02_search_answer: name 'PROMPTS3' is not defined]
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 49, in <module>
    obj.chainlit_prompt(
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 29, in chainlit_prompt
    output_text = self.query_answer.ask(query, query_results, prompt, hf_key, model)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 162, in ask
    prompt_set = PROMPTS3[prompt_type]
                 ^^^^^^^^
NameError: name 'PROMPTS3' is not defined
[2024-06-19 10:05:32,188: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 10:05:32,193: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 10:05:32,197: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 10:05:32,198: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 10:05:32,201: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 10:06:30,260: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 10:06:30,264: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 10:06:30,265: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 10:06:30,266: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 10:06:30,267: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 10:09:32,172: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 10:09:32,176: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 10:09:32,177: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 10:09:32,178: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 10:09:32,179: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 10:11:33,386: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 10:11:33,389: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 10:11:33,390: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 10:11:33,391: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 10:11:33,392: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 11:10:02,251: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 11:10:02,268: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 11:10:02,271: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 11:10:02,273: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 11:10:02,275: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 11:51:34,476: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 11:51:34,480: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 11:51:34,482: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 11:51:34,483: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 11:51:34,484: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 11:52:33,388: ERROR: stage_02_search_answer: 'rag-index']
Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 49, in <module>
    obj.chainlit_prompt(
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 28, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 73, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~^^^^^^^
KeyError: 'rag-index'
[2024-06-19 11:53:15,696: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 11:53:15,701: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 11:53:15,702: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 11:53:15,703: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 11:53:15,704: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 11:54:38,368: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 11:54:38,372: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 11:54:38,374: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 11:54:38,376: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 11:54:38,378: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 11:58:41,821: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 11:58:41,826: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 11:58:41,828: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 11:58:41,830: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 11:58:41,831: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 11:59:11,230: ERROR: stage_02_search_answer: '860_2']
Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\base.py", line 3653, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas\_libs\index.pyx", line 147, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 176, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 7080, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: '860_2'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 49, in <module>
    obj.chainlit_prompt(
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 28, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 73, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1103, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1343, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1293, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\generic.py", line 4095, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\base.py", line 3655, in get_loc
    raise KeyError(key) from err
KeyError: '860_2'
[2024-06-19 12:01:28,405: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 12:01:28,412: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 12:01:28,415: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 12:01:28,418: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 12:01:28,420: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 12:01:47,941: ERROR: stage_02_search_answer: '863_2']
Traceback (most recent call last):
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\base.py", line 3653, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "pandas\_libs\index.pyx", line 147, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\index.pyx", line 176, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\_libs\hashtable_class_helper.pxi", line 7080, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\_libs\hashtable_class_helper.pxi", line 7088, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: '863_2'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 49, in <module>
    obj.chainlit_prompt(
  File "c:\Users\shaik\Documents\Programing\ML\RAG\src\RAG\pipeline\stage_02_search_answer.py", line 28, in chainlit_prompt
    query_results = self.query_answer.fetch_chunks(query_embeddings, index)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\users\shaik\documents\programing\ml\rag\src\RAG\components\search_and_answer.py", line 73, in fetch_chunks
    item["sentence_chunk"] = self.dfs[index].loc[item["id"]]["sentence_chunk"]
                             ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1103, in __getitem__
    return self._getitem_axis(maybe_callable, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1343, in _getitem_axis
    return self._get_label(key, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexing.py", line 1293, in _get_label
    return self.obj.xs(label, axis=axis)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\generic.py", line 4095, in xs
    loc = index.get_loc(key)
          ^^^^^^^^^^^^^^^^^^
  File "C:\Users\shaik\Documents\Programing\TFOD\tfod\Lib\site-packages\pandas\core\indexes\base.py", line 3655, in get_loc
    raise KeyError(key) from err
KeyError: '863_2'
[2024-06-19 12:05:44,102: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 12:05:44,109: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 12:05:44,111: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 12:05:44,112: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 12:05:44,114: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 12:09:14,029: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 12:09:14,033: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 12:09:14,035: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 12:09:14,037: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 12:09:14,039: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-19 12:11:36,432: INFO: stage_02_search_answer: >>>>>>>> Search Answer stage Started <<<<<<<<<<<<]
[2024-06-19 12:11:36,436: INFO: common: yaml file: config\config.yaml loaded successfully]
[2024-06-19 12:11:36,438: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-19 12:11:36,440: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-19 12:11:36,443: INFO: SentenceTransformer: Load pretrained SentenceTransformer: all-mpnet-base-v2]
[2024-06-29 07:53:17,864: INFO: stage_11_data_ingestion: >>>>>>>> Refusal Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-29 07:53:17,867: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-29 07:53:17,869: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-29 07:53:17,869: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-29 07:53:17,870: ERROR: stage_11_data_ingestion: "'ConfigBox' object has no attribute 'source_uri'"]
Traceback (most recent call last):
  File "box/box.py", line 503, in box.box.Box.__getitem__
KeyError: 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "box/box.py", line 536, in box.box.Box.__getattr__
  File "box/box.py", line 524, in box.box.Box.__getitem__
box.exceptions.BoxKeyError: "'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "box/box.py", line 538, in box.box.Box.__getattr__
AttributeError: 'ConfigBox' object has no attribute 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "box/config_box.py", line 28, in box.config_box.ConfigBox.__getattr__
  File "box/box.py", line 552, in box.box.Box.__getattr__
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "box/box.py", line 503, in box.box.Box.__getitem__
KeyError: 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "box/box.py", line 536, in box.box.Box.__getattr__
  File "box/box.py", line 524, in box.box.Box.__getitem__
box.exceptions.BoxKeyError: "'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "box/box.py", line 538, in box.box.Box.__getattr__
AttributeError: 'ConfigBox' object has no attribute 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 21, in <module>
    obj = RefugalDataIngestionPipeline()
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 10, in __init__
    self.data_ingestion_config = config.get_refusal_data_ingestion_config()
  File "/teamspace/studios/this_studio/RAG/src/RAG/config/configuration.py", line 54, in get_refusal_data_ingestion_config
    source_url=config.source_uri,
  File "box/config_box.py", line 30, in box.config_box.ConfigBox.__getattr__
  File "box/box.py", line 552, in box.box.Box.__getattr__
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'source_uri'"
[2024-06-29 07:53:50,644: INFO: stage_11_data_ingestion: >>>>>>>> Refusal Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-29 07:53:50,649: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-29 07:53:50,649: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-29 07:53:50,650: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-29 07:53:50,650: ERROR: stage_11_data_ingestion: "'ConfigBox' object has no attribute 'source_uri'"]
Traceback (most recent call last):
  File "box/box.py", line 503, in box.box.Box.__getitem__
KeyError: 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "box/box.py", line 536, in box.box.Box.__getattr__
  File "box/box.py", line 524, in box.box.Box.__getitem__
box.exceptions.BoxKeyError: "'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "box/box.py", line 538, in box.box.Box.__getattr__
AttributeError: 'ConfigBox' object has no attribute 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "box/config_box.py", line 28, in box.config_box.ConfigBox.__getattr__
  File "box/box.py", line 552, in box.box.Box.__getattr__
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "box/box.py", line 503, in box.box.Box.__getitem__
KeyError: 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "box/box.py", line 536, in box.box.Box.__getattr__
  File "box/box.py", line 524, in box.box.Box.__getitem__
box.exceptions.BoxKeyError: "'source_uri'"

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "box/box.py", line 538, in box.box.Box.__getattr__
AttributeError: 'ConfigBox' object has no attribute 'source_uri'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 21, in <module>
    obj = RefugalDataIngestionPipeline()
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 10, in __init__
    self.data_ingestion_config = config.get_refusal_data_ingestion_config()
  File "/teamspace/studios/this_studio/RAG/src/RAG/config/configuration.py", line 54, in get_refusal_data_ingestion_config
    source_uri=config.source_uri,
  File "box/config_box.py", line 30, in box.config_box.ConfigBox.__getattr__
  File "box/box.py", line 552, in box.box.Box.__getattr__
box.exceptions.BoxKeyError: "'ConfigBox' object has no attribute 'source_uri'"
[2024-06-29 07:54:11,810: INFO: stage_11_data_ingestion: >>>>>>>> Refusal Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-29 07:54:11,813: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-29 07:54:11,814: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-29 07:54:11,814: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-29 07:54:11,814: ERROR: stage_11_data_ingestion: RefusalDataConfig.__init__() got an unexpected keyword argument 'source_uri']
Traceback (most recent call last):
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 21, in <module>
    obj = RefugalDataIngestionPipeline()
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 10, in __init__
    self.data_ingestion_config = config.get_refusal_data_ingestion_config()
  File "/teamspace/studios/this_studio/RAG/src/RAG/config/configuration.py", line 53, in get_refusal_data_ingestion_config
    refusal_data_ingestion_config = RefusalDataConfig(
TypeError: RefusalDataConfig.__init__() got an unexpected keyword argument 'source_uri'
[2024-06-29 07:56:27,992: INFO: stage_11_data_ingestion: >>>>>>>> Refusal Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-29 07:56:27,995: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-29 07:56:27,996: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-29 07:56:27,997: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-29 07:56:27,997: ERROR: stage_11_data_ingestion: 'RefusalDataIngestion' object has no attribute 'config']
Traceback (most recent call last):
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 22, in <module>
    obj.main()
  File "/teamspace/studios/this_studio/RAG/src/RAG/pipeline/stage_11_data_ingestion.py", line 15, in main
    data_ingestion.get_harmful_instructions()
  File "/teamspace/studios/this_studio/RAG/src/RAG/components/refusal_data_ingestion.py", line 14, in get_harmful_instructions
    if not os.path.exists(self.config.local_data_file):
AttributeError: 'RefusalDataIngestion' object has no attribute 'config'
[2024-06-29 07:56:56,541: INFO: stage_11_data_ingestion: >>>>>>>> Refusal Data Ingestion stage Started <<<<<<<<<<<<]
[2024-06-29 07:56:56,544: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-06-29 07:56:56,544: INFO: common: yaml file: params.yaml loaded successfully]
[2024-06-29 07:56:56,545: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-06-29 07:56:56,545: INFO: refusal_data_ingestion: File Doesn't Exist!>>> let's Download]
[2024-06-29 07:56:56,686: INFO: refusal_data_ingestion: >>>>>> Downloaded to artifacts/data_ingestion/harmfull_data_set.csv]
[2024-06-29 07:56:56,686: INFO: stage_11_data_ingestion: >>>>>>>> Refusal Data Ingestion stage Completed <<<<<<<<<<]
[2024-07-01 16:23:11,410: INFO: common: yaml file: config/config.yaml loaded successfully]
[2024-07-01 16:23:11,413: INFO: common: yaml file: params.yaml loaded successfully]
[2024-07-01 16:23:11,415: INFO: common: yaml file: schema.yaml loaded successfully]
[2024-07-01 16:23:14,238: INFO: config: PyTorch version 2.2.1+cu121 available.]
[2024-07-01 16:23:14,665: INFO: refusal_data_ingestion: File Already Exist!]
